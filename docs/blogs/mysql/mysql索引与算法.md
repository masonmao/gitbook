# mysql索引与算法

[TOC]



## 1. 索引概述

### 什么是索引

​		MySQL官方对索引的定义为：索引(Index)是帮助MySQL高效获取数据的数据结构。我们可以简单理解为：**快速查找排好序的一种数据结构。**Mysql索引主要有两种结构：B+Tree索引和Hash索引。我们平常所说的索引，如果没有特别指明，一般都是指B树结构组织的索引(B+Tree索引)。

### 为什么使用索引

​		使用索引主要是为了提高数据检索的效率。MySQL在300万条记录左右性能开始逐渐下降，虽然官方文档说500~800w记录，所以大数据量建立索引是非常有必要的。

## 数据结构与算法

### 二分查找法

​		**二分查找操作的数据集是一个有序的数据集**。开始时，先找出有序集合中间的那个元素。如果此元素比要查找的元素大，就接着在较小的一个半区进行查找；反之，如果此元素比要找的元素小，就在较大的一个半区进行查找。在每个更小的数据集中重复这个查找过程，直到找到要查找的元素或者数据集不能再分割。

​		**二分查找能应用于任何类型的数据，只要能将这些数据按照某种规则进行排序**。然而，正因为它依赖于一个有序的集合，这使得它在处理那些频繁插入和删除操作的数据集时不太高效。这是因为，对于插入和操作来说，为了保证查找过程正常进行，必须保证数据集始终有序。相对于查找来说，维护一个有序数据集的代价更高。此外，元素必须存储在连续的空间中。**因此，当待搜索的集合是相对静态的数据集时，此时使用二分查找是最好的选择**。

#### 二分查找实现与分析

​		**二分查找法实质上是不断地将有序数据集进行对半分割，并检查每个分区的中间元素**。在以下介绍的实现方法中，有序数据集存放在sorted中，sorted是一块连续的存储空间。参数target是要查找的数据。

​		此实现过程的实施是通过变量left和right控制一个循环来查找元素（其中left和right是正在查找的数据集的两个边界值）。首先，将left和right分别设置为0和size-1。在循环的每次迭代过程中，将middle设置为left和right之间区域的中间值。如果处于middle的元素比目标值小，将左索引值移动到middle后的一个元素的位置上。即下一组要搜索的区域是当前数据集的上半区。如果处于middle的元素比目标元素大，将右索引值移动到middle前一个元素的位置上。即下一组要搜索的区域是当前数据集的下半区。随着搜索的不断进行，left从左向右移，right从右向左移。一旦在middle处找到目标，查找将停止；如果没有找到目标，left和right将重合。下图显示了此过程。

![img](https://images2018.cnblogs.com/blog/1281268/201805/1281268-20180509063436446-1450605939.png)

### 二分查找树

### 平衡二叉树

### B+树

## 3. B+树索引

### 聚集索引

### 辅助索引

### 联合索引

### 覆盖索引

## 4.全文索引

### 概述

### 倒排索引

### innodb全文检索

### 全文检索